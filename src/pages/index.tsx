import React from 'react';
import { useRouter } from 'next/router';
// Libraries
import axios from 'axios';
// Components
import Head from 'next/head';
import TestHomeOrganisms from '../components/organisms/testHomeOrganisms';

const Home = () => {
  const router = useRouter();
  const logout = async () => {
    try {
      const res: any = await axios.get('/api/logout');
      if (res.status === 200) {
        await router.push('/login');
      }
    } catch (e) {
      console.log(e);
    }
  };
  return (
    <div>
      <Head>
        <title>Diby 0.1</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <TestHomeOrganisms />
      <button onClick={logout}>Logout</button>
    </div>
  );
};

export default Home;
